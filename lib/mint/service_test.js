"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var bignumber_js_1=require("bignumber.js"),BN=require("bn.js"),keccak256=require("keccak256"),MAX_UINT256=new BN(2).pow(new BN(256)).sub(new BN(1)),Test=function(){function e(){}return e.prototype.genHashSeed=function(e,r,n){e=Buffer.from(e.slice(2),"hex"),r=Buffer.from(r.slice(2),"hex"),n=new BN(n.slice(2),"hex").toArrayLike(Buffer,"be",8),n=Buffer.concat([e,r,n]);return keccak256(n).toString("hex")},e.prototype.genDigest=function(e,r){e=Buffer.from(e,"hex"),r=Buffer.concat([e,r]),r=keccak256(r).toString("hex"),r=new BN(r,"hex").toArrayLike(Buffer,"be",64);return new BN(r)},e.prototype.calcNE=function(e,r){r=this.genDigest(e,r),r=MAX_UINT256.div(r).toArrayLike(Buffer,"be",8);return new BN(r).toString(10)},e}(),service=new Test,seed=service.genHashSeed("0xc1839146d1833431ed3c0aae18b31d9c478d16bc87d08d3dffecbb55b318f1a5","0x86e6e4652818b1790a3c58283d9bc41df255febd","0x10"),buf=new BN("9529706072068136852").toArrayLike(Buffer,"be",8),ne=service.calcNE(seed,buf);function calcDark(e){e=new BN(e.slice(2),16).toArrayLike(Buffer,"be",32);return new bignumber_js_1.default(3&e[0]).plus(1).toNumber()}function isDark(e){return 0==(252&new BN(e.slice(2),16).toArrayLike(Buffer,"be",32)[0])}var dna="0x01fc5af5f73993593dc84ae6cb53724bd5cc7e3e6a9967692ba30775b59b7f02";console.log(isDark(dna),calcDark(dna));